{"remainingRequest":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\babel-loader\\lib\\index.js!E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\src\\views\\Topn.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\src\\views\\Topn.vue","mtime":1572956427945},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTpcXFx1NTE2OFx1NjgwOFxcc2VtZXN0ZXJfMDNcXHNlbWVzdGVyXzAzXFxkYXkwMlxcaGVsbG9fdmFudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZUxpc3Q6IFtdLAogICAgICBjYXRfaWQ6ICcwJywKICAgICAgdG9uOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRpdGxlTGlzdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFRpdGxlTGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF9yZWYsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9jYXRlZ29yaWVzJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3JlZi5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy50aXRsZUxpc3QgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFRpdGxlTGlzdCgpIHsKICAgICAgICByZXR1cm4gX2dldFRpdGxlTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0VGl0bGVMaXN0OwogICAgfSgpLAogICAgZ2V0VG9wbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFRvcG4gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3JlZjIsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgiL3F1ZXN0aW9ucy90b3BuP2NhdF9pZD0iLmNvbmNhdCh0aGlzLmNhdF9pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICAgIHRoaXMudG9uID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFRvcG4oKSB7CiAgICAgICAgcmV0dXJuIF9nZXRUb3BuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRUb3BuOwogICAgfSgpLAogICAgdGFiQ2hhbmdlOiBmdW5jdGlvbiB0YWJDaGFuZ2UobmFtZSkgewogICAgICB0aGlzLmNhdF9pZCA9IG5hbWU7CiAgICAgIHRoaXMuZ2V0VG9wbigpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGl0bGVMaXN0KCk7CiAgICB0aGlzLmdldFRvcG4oKTsKICB9Cn07"},{"version":3,"sources":["Topn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,GAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,YADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,KAAA,CAAA,GAAA,CAAA,aAAA,CAFA;;AAAA;AAAA;AAEA,gBAAA,GAFA,QAEA,IAFA;AAGA,qBAAA,SAAA,GAAA,GAAA,CAAA,IAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAKA,IAAA,OALA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAMA,KAAA,KAAA,CAAA,GAAA,kCACA,KAAA,MADA,EANA;;AAAA;AAAA;AAMA,gBAAA,GANA,SAMA,IANA;AASA,qBAAA,GAAA,GAAA,GAAA,CAAA,IAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAWA,IAAA,SAXA,qBAWA,IAXA,EAWA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,OAAA;AACA;AAdA,GARA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,YAAA;AACA,SAAA,OAAA;AACA;AA3BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"topn\">\r\n    <van-tabs @change=\"tabChange\">\r\n      <van-tab v-for=\"item in titleList\" :key=\"item.id\" :title=\"item.cat_name\" :name=\"item.id\"></van-tab>\r\n    </van-tabs>\r\n    <van-row>\r\n      <table class=\"table\">\r\n        <tr class=\"head\">\r\n          <th>排名</th>\r\n          <th>姓名</th>\r\n          <th>积分</th>\r\n        </tr>\r\n        <tr v-for=\"(item,index) in ton\" :key=\"index\">\r\n          <td>{{index + 1}}</td>\r\n          <td>{{item.username}}</td>\r\n          <td>{{item.integral}}</td>\r\n        </tr>\r\n      </table>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      titleList: [],\r\n      cat_id: '0',\r\n      ton: []\r\n    }\r\n  },\r\n  methods: {\r\n    async getTitleList () {\r\n      let { data: res } = await this.$http.get('/categories')\r\n      this.titleList = res.data\r\n    },\r\n    async getTopn () {\r\n      let { data: res } = await this.$http.get(\r\n        `/questions/topn?cat_id=${this.cat_id}`\r\n      )\r\n      this.ton = res.data\r\n    },\r\n    tabChange (name) {\r\n      this.cat_id = name\r\n      this.getTopn()\r\n    }\r\n  },\r\n  created () {\r\n    this.getTitleList()\r\n    this.getTopn()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.topn .table {\r\n  width: 100%;\r\n  margin-top: 30px;\r\n  text-align: center;\r\n  border-collapse: collapse;\r\n}\r\n.topn .head  {\r\n  background: #eeeeee;\r\n}\r\n\r\n.topn td {\r\n  padding: 4px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}