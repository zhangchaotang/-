{"remainingRequest":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\src\\views\\Subjected.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\src\\views\\Subjected.vue","mtime":1572954040719},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB0aXRsZTE6IHt9LA0KICAgICAgcXVlc3Rpb25zTGlzdDogW10sDQogICAgICBxdWVzdGlvbnNOdW06IHt9LA0KICAgICAgdHlwZTogJ2FsbCcsDQogICAgICByYWRpbzogJycsDQogICAgICBudW06IDAsDQogICAgICBmbGFnOiBmYWxzZSwNCiAgICAgIGFuc3dlcjogW10sDQogICAgICBjYXRJZDogJycNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoWydjYXRfaWQnXSkNCiAgfSwNCiAgbWV0aG9kczogew0KDQogICAgYXN5bmMgZ2V0VGl0bGUgKCkgew0KICAgICAgbGV0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnL2NhdGVnb3JpZXMvJyArIHRoaXMuY2F0SWQpDQogICAgICBsZXQgeyBkYXRhOiByZXMyIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgNCiAgICAgICAgYC9jYXRlZ29yaWVzLyR7dGhpcy5jYXRJZH0vcXVlc3Rpb25fY291bnRfaW5mb2ANCiAgICAgICkNCiAgICAgIHRoaXMucXVlc3Rpb25zTnVtID0gcmVzMi5kYXRhDQogICAgICB0aGlzLnRpdGxlMSA9IHJlcy5kYXRhDQogICAgfSwNCiAgICBhc3luYyBnZXRTdWJqZWN0ZWRCeUlkICgpIHsNCiAgICAgIGxldCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoDQogICAgICAgIGAvY2F0ZWdvcmllcy8ke3RoaXMuY2F0SWR9L3F1ZXN0aW9ucz90eXBlPSR7dGhpcy50eXBlfWANCiAgICAgICkNCiAgICAgIHJlcy5kYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIGl0ZW0ub3B0aW9ucyA9IGl0ZW0ub3B0aW9ucy5zcGxpdCgnLCcpDQogICAgICB9KQ0KICAgICAgdGhpcy5xdWVzdGlvbnNMaXN0ID0gcmVzLmRhdGENCiAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICB9LA0KICAgIC8vIOaPkOS6pA0KICAgIHRpamlhbyAoKSB7DQogICAgICBpZiAodGhpcy5yYWRpbyA9PT0gJycpIHJldHVybiB0aGlzLiR0b2FzdCgn6K+36YCJ5oup562U5qGIJykNCg0KICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAucG9zdChgL3F1ZXN0aW9ucy8ke3RoaXMucXVlc3Rpb25zTGlzdFt0aGlzLm51bV0uaWR9LyR7dGhpcy5yYWRpb31gKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5vayA9PT0gMSkgew0KICAgICAgICAgICAgdGhpcy4kdG9hc3QoJ+aBreWWnCEg562U5qGI5q2j56GuJykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kdG9hc3QoJ+aKseatiSEg562U5qGI6ZSZ6K+vJykNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5yYWRpbyA9ICcnDQogICAgICAgICAgaWYgKHRoaXMubnVtID09PSB0aGlzLnF1ZXN0aW9uc0xpc3RxdWVzdGlvbnNMaXN0Lmxlbmd0aCAtIDEpIHJldHVybiB0aGlzLiR0b2FzdCgn5bey57uP5Yiw5pyA5ZCO5LiA6aKY5LqGJykNCiAgICAgICAgICB0aGlzLm51bSsrDQogICAgICAgIH0pDQogICAgfSwNCiAgICAvLyB0YWLlj5HnlJ/mlLnlj5jml7YNCiAgICB0YWJjaGFuZ2UgKG5hbWUpIHsNCiAgICAgIHRoaXMudHlwZSA9IG5hbWUNCiAgICAgIHRoaXMucXVlc3Rpb25zTGlzdCA9IFtdDQogICAgICB0aGlzLm51bSA9IDANCiAgICAgIHRoaXMucmFkaW8gPSAnJw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5jYXRJZCA9IHRoaXMuJHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucGFyYW1zLmlkDQogICAgdGhpcy5nZXRUaXRsZSgpDQogIH0NCn0NCg=="},{"version":3,"sources":["Subjected.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Subjected.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <van-row>\r\n      <van-nav-bar left-text=\"返回\" @click-left=\"$router.go(-1)\" :title=\"title1.cat_name\" />\r\n    </van-row>\r\n    <van-row>\r\n      <van-tabs v-model=\"type\" @change=\"tabchange\">\r\n        <van-tab :title=\"'全部'+'('+questionsNum.total+')'\" name=\"all\"></van-tab>\r\n        <van-tab :title=\"'答错的'+'('+questionsNum.right+')'\" name=\"wrong\"></van-tab>\r\n        <van-tab :title=\" '答对的'+'('+questionsNum.wrong+')'\" name=\"right\"></van-tab>\r\n        <van-tab :title=\" '没做过'+'('+questionsNum.undo+')'\" name=\"undo\"></van-tab>\r\n      </van-tabs>\r\n    </van-row>\r\n    <van-row>\r\n      <van-button type=\"primary\" v-if=\"questionsList.length === 0\" @click=\"getSubjectedById\">开始答题</van-button>\r\n      <div v-else class=\"dati\">\r\n        <h2>{{questionsList[num].title}}</h2>\r\n        <van-radio-group v-model.trim=\"radio\">\r\n          <van-radio\r\n            v-for=\"(item,index) in questionsList[num].options\"\r\n            :key=\"index\"\r\n            :name=\"index\"\r\n          >{{item}}</van-radio>\r\n        </van-radio-group>\r\n        <div class=\"btns\">\r\n          <van-row :gutter=\"20\">\r\n            <van-col :span=\"11\">\r\n              <van-button type=\"primary\" @click=\"tijiao\">提交,进入下一题</van-button>\r\n            </van-col>\r\n            <van-col :span=\"8\">\r\n              <van-button type=\"info\" @click=\"flag = !flag\">查看答案</van-button>\r\n            </van-col>\r\n          </van-row>\r\n        </div>\r\n        <span class=\"daan\" v-if=\"flag\">\r\n        {{questionsList[num].options[questionsList[num].right]}}\r\n        </span>\r\n      </div>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      title1: {},\r\n      questionsList: [],\r\n      questionsNum: {},\r\n      type: 'all',\r\n      radio: '',\r\n      num: 0,\r\n      flag: false,\r\n      answer: [],\r\n      catId: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['cat_id'])\r\n  },\r\n  methods: {\r\n\r\n    async getTitle () {\r\n      let { data: res } = await this.$http.get('/categories/' + this.catId)\r\n      let { data: res2 } = await this.$http.get(\r\n        `/categories/${this.catId}/question_count_info`\r\n      )\r\n      this.questionsNum = res2.data\r\n      this.title1 = res.data\r\n    },\r\n    async getSubjectedById () {\r\n      let { data: res } = await this.$http.get(\r\n        `/categories/${this.catId}/questions?type=${this.type}`\r\n      )\r\n      res.data.forEach((item, index) => {\r\n        item.options = item.options.split(',')\r\n      })\r\n      this.questionsList = res.data\r\n      console.log(res)\r\n    },\r\n    // 提交\r\n    tijiao () {\r\n      if (this.radio === '') return this.$toast('请选择答案')\r\n\r\n      this.$http\r\n        .post(`/questions/${this.questionsList[this.num].id}/${this.radio}`)\r\n        .then(res => {\r\n          if (res.data.ok === 1) {\r\n            this.$toast('恭喜! 答案正确')\r\n          } else {\r\n            this.$toast('抱歉! 答案错误')\r\n          }\r\n          this.radio = ''\r\n          if (this.num === this.questionsListquestionsList.length - 1) return this.$toast('已经到最后一题了')\r\n          this.num++\r\n        })\r\n    },\r\n    // tab发生改变时\r\n    tabchange (name) {\r\n      this.type = name\r\n      this.questionsList = []\r\n      this.num = 0\r\n      this.radio = ''\r\n    }\r\n  },\r\n  created () {\r\n    this.catId = this.$router.history.current.params.id\r\n    this.getTitle()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dati {\r\n  padding: 0 5%;\r\n  width: 90%;\r\n}\r\n.btns {\r\n  margin: 20px 0;\r\n}\r\n\r\n.daan {\r\n  border-radius: 4px;\r\n  background: #1989fa;\r\n}\r\n</style>\r\n"]}]}