{"remainingRequest":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\src\\views\\Subjected.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\src\\views\\Subjected.vue","mtime":1572954040719},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\全栈\\semester_03\\semester_03\\day02\\hello_vant\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5kYXRpIHsNCiAgcGFkZGluZzogMCA1JTsNCiAgd2lkdGg6IDkwJTsNCn0NCi5idG5zIHsNCiAgbWFyZ2luOiAyMHB4IDA7DQp9DQoNCi5kYWFuIHsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBiYWNrZ3JvdW5kOiAjMTk4OWZhOw0KfQ0K"},{"version":3,"sources":["Subjected.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Subjected.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <van-row>\r\n      <van-nav-bar left-text=\"返回\" @click-left=\"$router.go(-1)\" :title=\"title1.cat_name\" />\r\n    </van-row>\r\n    <van-row>\r\n      <van-tabs v-model=\"type\" @change=\"tabchange\">\r\n        <van-tab :title=\"'全部'+'('+questionsNum.total+')'\" name=\"all\"></van-tab>\r\n        <van-tab :title=\"'答错的'+'('+questionsNum.right+')'\" name=\"wrong\"></van-tab>\r\n        <van-tab :title=\" '答对的'+'('+questionsNum.wrong+')'\" name=\"right\"></van-tab>\r\n        <van-tab :title=\" '没做过'+'('+questionsNum.undo+')'\" name=\"undo\"></van-tab>\r\n      </van-tabs>\r\n    </van-row>\r\n    <van-row>\r\n      <van-button type=\"primary\" v-if=\"questionsList.length === 0\" @click=\"getSubjectedById\">开始答题</van-button>\r\n      <div v-else class=\"dati\">\r\n        <h2>{{questionsList[num].title}}</h2>\r\n        <van-radio-group v-model.trim=\"radio\">\r\n          <van-radio\r\n            v-for=\"(item,index) in questionsList[num].options\"\r\n            :key=\"index\"\r\n            :name=\"index\"\r\n          >{{item}}</van-radio>\r\n        </van-radio-group>\r\n        <div class=\"btns\">\r\n          <van-row :gutter=\"20\">\r\n            <van-col :span=\"11\">\r\n              <van-button type=\"primary\" @click=\"tijiao\">提交,进入下一题</van-button>\r\n            </van-col>\r\n            <van-col :span=\"8\">\r\n              <van-button type=\"info\" @click=\"flag = !flag\">查看答案</van-button>\r\n            </van-col>\r\n          </van-row>\r\n        </div>\r\n        <span class=\"daan\" v-if=\"flag\">\r\n        {{questionsList[num].options[questionsList[num].right]}}\r\n        </span>\r\n      </div>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      title1: {},\r\n      questionsList: [],\r\n      questionsNum: {},\r\n      type: 'all',\r\n      radio: '',\r\n      num: 0,\r\n      flag: false,\r\n      answer: [],\r\n      catId: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['cat_id'])\r\n  },\r\n  methods: {\r\n\r\n    async getTitle () {\r\n      let { data: res } = await this.$http.get('/categories/' + this.catId)\r\n      let { data: res2 } = await this.$http.get(\r\n        `/categories/${this.catId}/question_count_info`\r\n      )\r\n      this.questionsNum = res2.data\r\n      this.title1 = res.data\r\n    },\r\n    async getSubjectedById () {\r\n      let { data: res } = await this.$http.get(\r\n        `/categories/${this.catId}/questions?type=${this.type}`\r\n      )\r\n      res.data.forEach((item, index) => {\r\n        item.options = item.options.split(',')\r\n      })\r\n      this.questionsList = res.data\r\n      console.log(res)\r\n    },\r\n    // 提交\r\n    tijiao () {\r\n      if (this.radio === '') return this.$toast('请选择答案')\r\n\r\n      this.$http\r\n        .post(`/questions/${this.questionsList[this.num].id}/${this.radio}`)\r\n        .then(res => {\r\n          if (res.data.ok === 1) {\r\n            this.$toast('恭喜! 答案正确')\r\n          } else {\r\n            this.$toast('抱歉! 答案错误')\r\n          }\r\n          this.radio = ''\r\n          if (this.num === this.questionsListquestionsList.length - 1) return this.$toast('已经到最后一题了')\r\n          this.num++\r\n        })\r\n    },\r\n    // tab发生改变时\r\n    tabchange (name) {\r\n      this.type = name\r\n      this.questionsList = []\r\n      this.num = 0\r\n      this.radio = ''\r\n    }\r\n  },\r\n  created () {\r\n    this.catId = this.$router.history.current.params.id\r\n    this.getTitle()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dati {\r\n  padding: 0 5%;\r\n  width: 90%;\r\n}\r\n.btns {\r\n  margin: 20px 0;\r\n}\r\n\r\n.daan {\r\n  border-radius: 4px;\r\n  background: #1989fa;\r\n}\r\n</style>\r\n"]}]}